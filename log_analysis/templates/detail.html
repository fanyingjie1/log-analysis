{% extends "base.html" %}
{% block title %}首页{% endblock %}
{% block content %}

<div class="row-fluid">
    <div class="box">
        <h4 class="box-header round-top">{{ path }} 概览</h4>
        <div class="box-container-toggle">
            <div class="box-content">
                <div class="list">
                    <table class="table table-bordered">
                        <tr>
                            <th>IP数量</th>
                            <th>PV数量</th>
                            <th>总流量</th>
                        </tr>
                        <tr>
                            <td>{{ ipcount }}</td>
                            <td>{{ pvcount }}</td>
                            <td>{{ size }} KB</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% ifnotequal itype 'method' %}
    <div class="row-fluid">
        <div class="box">
            <h4 class="box-header round-top">{{ path }} 请求方法汇总</h4>
            <div class="box-container-toggle">
                <div class="box-content">
                    <div class="list">
                        <table class="table table-bordered">
                            <tr>
                                <th>状态</th>
                                <th>数量</th>
                            </tr>
                            {% for key,value in methoddict  %} 
                            <tr>
                                <td>{{ key }}</td>
                                <td>{{ value }}</td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endifnotequal %}
{% ifnotequal itype 'status' %}
    <div class="row-fluid">
        <div class="box">
            <h4 class="box-header round-top">{{ path }} 请求状态汇总</h4>
            <div class="box-container-toggle">
                <div class="box-content">
                    <div class="list">
                        <table class="table table-bordered">
                            <tr>
                                <th>状态</th>
                                <th>数量</th>
                            </tr>
                            {% for key,value in statusdict  %} 
                            <tr>
                                <td>{{ key }}</td>
                                <td>{{ value }}</td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endifnotequal %}
{% ifnotequal itype 'path' %}
<div class="row-fluid">
    <div class="box">
        <h4 class="box-header round-top">{{ path }} 页面汇总 TOP20</h4>
        <div class="box-container-toggle">
            <div class="box-content">
                <div class="list">
                    <table class="table table-bordered">
                        <tr>
                            <th style="width:85%">页面</th>
                            <th>数量</th>
                        </tr>
                        {% for key,value in pathdict  %} 
                        <tr>
                            <td>{{ key }}</td>
                            <td>{{ value }}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endifnotequal %}
{% ifnotequal itype 'origin' %}
<div class="row-fluid">
    <div class="box">
        <h4 class="box-header round-top">{{ path }} IP汇总 TOP20</h4>
        <div class="box-container-toggle">
            <div class="box-content">
                <div class="list">
                    <table class="table table-bordered">
                        <tr>
                            <th>IP</th>
                            <th>数量</th>
                        </tr>
                        {% for key,value in ipdict  %} 
                        <tr>
                            <td>{{ key }}</td>
                            <td>{{ value }}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endifnotequal %}
<div class="row-fluid">
    <div class="box">
        <h4 class="box-header round-top">{{ path }} 浏览器访问统计 TOP20</h4>
        <div class="box-container-toggle">
            <div class="box-content">
                <div class="list">
                    <table class="table table-bordered">
                        <tr>
                            <th style="width:90%">状态</th>
                            <th>数量</th>
                        </tr>
                        {% for key,value in clientdict  %} 
                        <tr>
                            <td>{{ key }}</td>
                            <td>{{ value }}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- <div class="row-fluid">
    <div class="box">
        <h4 class="box-header round-top">{{ path }} 汇总</h4>
        <div class="box-container-toggle">
            <div class="box-content">
                <div class="list">
                    <table class="table table-bordered">
                        <tr>
                            {% ifnotequal itype 'origin' %}
                            <th style="width:20%">IP</th>
                            {% endifnotequal %}
                            <th style="width:5%">方法</th>
                            {% ifnotequal itype 'path' %}
                            <th style="width:5%">页面</th>
                            {% endifnotequal %}
                            <th style="width:45%">浏览器</th>
                            <th style="width:5%">状态</th>
                            <th style="width:10%">流量</th>
                            <th style="width:10%">用时</th>
                        </tr>
                        {% for value in list  %} 
                        <tr>
                            {% ifnotequal itype 'origin' %}
                            <td>{{ value.origin }}</td>
                            {% endifnotequal %}
                            <td>{{ value.method }}</td>
                            {% ifnotequal itype 'path' %}
                            <td>{{ value.path }}</td>
                            {% endifnotequal %}
                            <td>{{ value.client }}</td>
                            <td>{{ value.status }}</td>
                            <td>{{ value.size }} KB</td>
                            <td>{{ value.times }} ms</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>
</div> -->


{% endblock %}